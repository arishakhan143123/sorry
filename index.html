<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Arisha ‚ô• Atif ‚Äî I'm Sorry</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<style>
  :root{
    --bg1: #ff9a9e;
    --bg2: #fecfef;
    --accent: #ff6b6b;
    --card-bg: rgba(255,255,255,0.18);
    --glass: rgba(255,255,255,0.12);
  }
  html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
  body{
    background: radial-gradient(1200px 600px at 10% 20%, rgba(255,255,255,0.08), transparent 10%),
                linear-gradient(135deg,var(--bg1),var(--bg2));
    display:flex;align-items:center;justify-content:center;padding:32px;
    overflow:hidden;
  }

  .scene{
    width:100%;
    max-width:920px;
    border-radius:24px;
    padding:28px;
    box-sizing:border-box;
    position:relative;
    box-shadow:0 20px 50px rgba(0,0,0,0.18);
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    backdrop-filter: blur(8px);
    color:white;
  }

  header{
    display:flex;gap:16px;align-items:center;justify-content:space-between;flex-wrap:wrap;
  }

  .names{
    display:flex;align-items:center;gap:14px;
  }

  .avatar{
    width:72px;height:72px;border-radius:16px;
    display:flex;align-items:center;justify-content:center;
    background:var(--card-bg);font-weight:700;font-size:20px;
    color:white;box-shadow:0 6px 18px rgba(0,0,0,0.18);
  }

  h1{margin:0;font-size:28px;letter-spacing:0.2px;}
  .subtitle{opacity:0.95;font-size:14px;margin-top:6px;color:rgba(255,255,255,0.95);}

  .card{
    margin-top:22px;
    border-radius:18px;padding:26px;
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
    display:flex;gap:22px;align-items:center;
  }

  .left{
    flex:1;
    min-width:220px;
  }

  .message{
    font-size:18px;line-height:1.6;color:rgba(255,255,255,0.98);
    margin:0 0 18px 0;
  }

  .small{
    font-size:13px;color:rgba(255,255,255,0.85);margin-top:8px;
  }

  .controls{
    display:flex;gap:12px;align-items:center;flex-wrap:wrap;
  }

  .btn{
    background:white;color:var(--accent);border-radius:999px;padding:10px 18px;
    font-weight:700;text-decoration:none;border:none;cursor:pointer;box-shadow:0 8px 18px rgba(0,0,0,0.12);
    transition:transform .18s ease, box-shadow .18s ease;
  }
  .btn:active{transform:translateY(2px);box-shadow:0 4px 8px rgba(0,0,0,0.12);}

  .heart-large{
    font-size:44px;display:inline-block;
    animation:heartbeat 1.2s infinite;
    text-shadow:0 10px 30px rgba(255,100,130,0.18);
  }

  @keyframes heartbeat{
    0%{transform:scale(1)}
    25%{transform:scale(1.18)}
    50%{transform:scale(1)}
    75%{transform:scale(1.12)}
    100%{transform:scale(1)}
  }

  /* floating hearts */
  .float-container{position:absolute;inset:0;pointer-events:none;overflow:hidden;border-radius:24px;}
  .heart{
    position:absolute;font-size:20px;opacity:.95;
    animation: floatUp linear infinite;
    transform-origin:center;
    text-shadow:0 6px 14px rgba(0,0,0,0.12);
  }
  @keyframes floatUp{
    from{transform:translateY(40vh) scale(0.7) rotate(0deg);opacity:0}
    10%{opacity:1}
    80%{opacity:1}
    to{transform:translateY(-30vh) scale(1.15) rotate(45deg);opacity:0}
  }

  /* apology note */
  .note{
    background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    border-radius:12px;padding:14px;border:1px solid rgba(255,255,255,0.04);
    font-size:15px;color:rgba(255,255,255,0.95);
  }

  footer{display:flex;justify-content:space-between;align-items:center;margin-top:18px;gap:12px;flex-wrap:wrap}
  .small-muted{font-size:13px;color:rgba(255,255,255,0.7);}

  /* responsive */
  @media (max-width:640px){
    .card{flex-direction:column;align-items:flex-start}
    .avatar{width:60px;height:60px}
  }
</style>
</head>
<body>
  <div class="scene" role="main" aria-label="Sorry message for Atif">
    <header>
      <div class="names" aria-hidden="false">
        <div class="avatar" title="From Arisha">A</div>
        <div>
          <h1>For Atif, with all my heart</h1>
          <div class="subtitle">A small page made by Arisha ‚Äî to say I'm truly sorry ‚ù§Ô∏è</div>
        </div>
      </div>
      <div style="text-align:right">
        <div class="heart-large" aria-hidden="true">‚ù§Ô∏è</div>
        <div class="small-muted" style="font-size:12px;margin-top:6px">I forgot your birthday ‚Äî but not you.</div>
      </div>
    </header>

    <div class="card" role="article">
      <div class="left">
        <p class="message">
          Atif ‚Äî I am so sorry I missed your birthday. I know I hurt you and that pains me more than words can say.
          You mean the world to me and I promise to make it up, every day. Please accept this little page and my biggest apology.
        </p>

        <div class="note" aria-live="polite">
          <strong>My promise:</strong>
          <ul style="margin:8px 0 0 18px;padding:0;line-height:1.6">
            <li>I'll plan something special just for you.</li>
            <li>I will remember the moments that matter ‚Äî not just the dates.</li>
            <li>I'll try harder every single day to show you how much I care.</li>
          </ul>
        </div>

        <div style="margin-top:14px" class="controls" aria-hidden="false">
          <button id="playBtn" class="btn" aria-pressed="false">Play Music ‚ñ∂</button>
          <button id="pauseBtn" class="btn" style="display:none;">Pause ‚è∏</button>
          <a class="btn" id="loveBtn" style="background:rgba(255,255,255,0.95);color:#8b0000" href="#" onclick="showSurprise(event)">Open My Promise üíå</a>
        </div>

      </div>

      <div style="width:260px;flex-shrink:0;display:flex;flex-direction:column;align-items:center;gap:12px">
        <div style="width:100%;height:160px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center;box-shadow:inset 0 1px 0 rgba(255,255,255,0.02);">
          <div style="text-align:center">
            <div style="font-size:22px;font-weight:700">Arisha ‚ù§Ô∏è Atif</div>
            <div style="font-size:13px;margin-top:6px;color:rgba(255,255,255,0.9)">Forgive me, love</div>
          </div>
        </div>

        <div style="width:100%" class="small">
          Tip: Tap <strong>Play Music</strong> to start the soft background tune. If your browser blocks autoplay, use the button.
        </div>
      </div>
    </div>

    <footer>
      <div class="small-muted">Made with üíï by Arisha ‚Ä¢ <span id="dateSpan"></span></div>
      <div class="small-muted">Hosted on GitHub Pages ‚Äî share this link with Atif</div>
    </footer>

    <div class="float-container" aria-hidden="true" id="floaters"></div>
  </div>

<script>
/* -------------------------
   Floating hearts generator
   ------------------------- */
(function spawnHearts(){
  const container = document.getElementById('floaters');
  const heartEmojis = ['‚ù§Ô∏è','üíñ','üíï','üíò','‚ù£Ô∏è'];
  // create ~12 hearts with randomized positions & durations
  for(let i=0;i<12;i++){
    const el = document.createElement('div');
    el.className = 'heart';
    el.textContent = heartEmojis[Math.floor(Math.random()*heartEmojis.length)];
    // random horizontal start
    const left = Math.random()*85 + '%';
    el.style.left = left;
    // scale and delay/duration
    const size = Math.floor(Math.random()*18)+14;
    el.style.fontSize = size + 'px';
    const dur = Math.random()*14 + 10; // seconds
    el.style.animationDuration = dur + 's';
    el.style.bottom = (Math.random()*10 - 5) + 'vh';
    el.style.opacity = 0;
    el.style.transform = `translateY(0) scale(${0.8 + Math.random()*0.6})`;
    container.appendChild(el);
  }
})();

/* -------------------------
   Date display
   ------------------------- */
(function setDate(){
  const d = new Date();
  const opts = { year:'numeric', month:'short', day:'numeric' };
  document.getElementById('dateSpan').textContent = d.toLocaleDateString(undefined, opts);
})();

/* -------------------------
   Soft background music (WebAudio synth)
   - No external files required
   - Gentle arpeggio + soft pad
   ------------------------- */
let audioCtx, masterGain, isPlaying=false, loopId;

function initAudio(){
  audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  masterGain = audioCtx.createGain();
  masterGain.gain.value = 0.18;
  masterGain.connect(audioCtx.destination);

  // Add slight stereo panner + subtle delay for warmth
  const delay = audioCtx.createDelay();
  delay.delayTime.value = 0.22;
  const fb = audioCtx.createGain();
  fb.gain.value = 0.18;
  delay.connect(fb);
  fb.connect(delay);

  const merger = audioCtx.createChannelMerger(2);

  delay.connect(masterGain);
}

function playSynth(){
  if(!audioCtx) initAudio();
  if(isPlaying) return;
  isPlaying = true;

  const now = audioCtx.currentTime;
  // pad: long smooth oscillator with lowpass
  const padOsc = audioCtx.createOscillator();
  padOsc.type = 'sine';
  const padGain = audioCtx.createGain();
  padGain.gain.value = 0.0;

  const padFilter = audioCtx.createBiquadFilter();
  padFilter.type = 'lowpass';
  padFilter.frequency.value = 900;

  padOsc.connect(padFilter);
  padFilter.connect(padGain);
  padGain.connect(masterGain);

  padOsc.start(now);
  padGain.gain.linearRampToValueAtTime(0.06, now + 1);
  padGain.gain.linearRampToValueAtTime(0.045, now + 6);

  // slowly detune two oscillators for richness
  const padOsc2 = audioCtx.createOscillator();
  padOsc2.type = 'sine';
  padOsc2.detune.value = 7; // cents
  const padGain2 = audioCtx.createGain();
  padGain2.gain.value = 0;
  padOsc2.connect(padGain2);
  padGain2.connect(masterGain);
  padOsc2.start(now);
  padGain2.gain.linearRampToValueAtTime(0.03, now + 1);

  // melodic arpeggio loop (scheduling using setInterval)
  const bpm = 60;
  const beatTime = 60 / bpm;
  let step = 0;

  // scale (C major-ish) relative frequencies
  const baseFreq = 260; // A bit below middle C for gentle tone
  const intervals = [0,2,4,7,9,12]; // scale degrees in semitones

  function scheduleStep(){
    const t = audioCtx.currentTime;
    // pick interval sequence to create small arpeggio
    const i = intervals[(step) % intervals.length];
    const freq = baseFreq * Math.pow(2, i/12);
    const osc = audioCtx.createOscillator();
    osc.type = 'triangle';
    osc.frequency.value = freq;
    const g = audioCtx.createGain();
    g.gain.value = 0;
    osc.connect(g);
    g.connect(masterGain);
    const attack = 0.02, release = 0.9;
    g.gain.linearRampToValueAtTime(0.09, t + attack);
    g.gain.exponentialRampToValueAtTime(0.0001, t + release);
    osc.start(t);
    osc.stop(t + release + 0.05);
    step++;
  }

  // schedule an immediate chord for fullness
  (function playChord(){
    const chordIntervals = [0,4,7,11];
    chordIntervals.forEach((semi, idx)=>{
      const osc = audioCtx.createOscillator();
      osc.type = 'sine';
      osc.frequency.value = baseFreq * Math.pow(2, semi/12);
      const g = audioCtx.createGain();
      g.gain.value = 0;
      osc.connect(g);
      g.connect(masterGain);
      const t = audioCtx.currentTime + idx*0.02;
      g.gain.linearRampToValueAtTime(0.06, t + 0.5);
      g.gain.linearRampToValueAtTime(0.02, t + 5);
      osc.start(t);
      osc.stop(t + 8);
    });
  })();

  // run the sequencer
  scheduleStep(); // first immediate
  loopId = setInterval(scheduleStep, beatTime * 500); // play a soft note every ~0.5*beatTime*1000 ms -> slower
  // we want a gentle, sparse arpeggio; setInterval with good spacing:
  // use 700ms spacing
  clearInterval(loopId);
  loopId = setInterval(scheduleStep, 700);

  // store pad nodes so we can fade/stop later
  audioCtx._pad = {padOsc,padGain,padOsc2,padGain2};
}

function stopSynth(){
  if(!audioCtx || !isPlaying) return;
  isPlaying = false;
  clearInterval(loopId);
  // fade out pad
  const t = audioCtx.currentTime;
  const pad = audioCtx._pad;
  if(pad){
    pad.padGain.gain.cancelScheduledValues(t);
    pad.padGain.gain.linearRampToValueAtTime(0.0001, t + 1.2);
    pad.padOsc.stop(t + 1.3);
    pad.padOsc2.stop(t + 1.3);
  }
}

/* UI wiring */
const playBtn = document.getElementById('playBtn');
const pauseBtn = document.getElementById('pauseBtn');
playBtn.addEventListener('click', async function(){
  try{
    // resume context on user gesture
    if(!audioCtx){
      initAudio();
    }
    if(audioCtx.state === 'suspended'){
      await audioCtx.resume();
    }
  }catch(e){}
  if(!isPlaying){
    playSynth();
    playBtn.style.display='none';
    pauseBtn.style.display='';
    playBtn.setAttribute('aria-pressed','true');
  }
});
pauseBtn.addEventListener('click', function(){
  stopSynth();
  pauseBtn.style.display='none';
  playBtn.style.display='';
  playBtn.setAttribute('aria-pressed','false');
});

/* Surprise promise detail */
function showSurprise(e){
  e && e.preventDefault();
  const prev = document.querySelector('.note');
  prev.innerHTML = `<strong>My promise to you, Atif:</strong>
    <p style="margin-top:8px">I will plan a day just for you ‚Äî your favourite food, a little surprise, and time where it's just us. Thank you for being patient with me. I love you more than words can fit on this page.</p>
    <div style="margin-top:8px;font-size:13px;color:rgba(255,255,255,0.88)">‚Äî Always yours, Arisha</div>`;
  // small visual pulse
  const scene = document.querySelector('.scene');
  scene.animate([{transform:'scale(1)'},{transform:'scale(1.01)'},{transform:'scale(1)'}],{duration:500,iterations:1});
}

/* Accessibility: keyboard shortcut P to toggle music */
document.addEventListener('keydown', function(e){
  if(e.key.toLowerCase() === 'p'){
    if(isPlaying){ pauseBtn.click(); } else { playBtn.click(); }
  }
});
</script>
</body>
</html>
